install.packages(c('tidyverse', 'jsonline', 'sf'))
getwd()
setwd("/Users/tiago/Documents/github/insperjor-programacao-web/exercicios-alunos")
a<-jsonlite::read_json('link.json')
a<-as.data.frame(a)
View(a)
a<-jsonlite::read_json('link.json')
length(a)
b<-data.frame(link, block_id)
b<-data.frame('link', 'block_id')
a[[1]]
a[[1]]$block_id
for (i in 1:552)  {
b[i, 'link'] = a[[i]]$link
b[i, 'block_id'] = a[[i]]$block_id
}
View(b)
View(b)
b<-data.frame('link', 'block_id')
View(b)
b<-data.frame('link' = rep('', 552), 'block_id' = rep('', 552))
for (i in 1:552)  {
b[i, 'link'] = a[[i]]$link
b[i, 'block_id'] = a[[i]]$block_id
}
View(b)
for (i in 1:552)  {
b[i, 'link'] = a[[i]]$link
b[i, 'block_id'] = ifelse(is.NULL(a[[i]]$block_id, '', a[[i]]$block_id))
}
NULL
a[[1]]$block_id
a[[1]]$block_id == NULL
is.null(a[[1]]$block_id)
for (i in 1:552)  {
b[i, 'link'] = a[[i]]$link
b[i, 'block_id'] = ifelse(is.null(a[[i]]$block_id, '', a[[i]]$block_id))
}
for (i in 1:552)  {
b[i, 'link'] = a[[i]]$link
b[i, 'block_id'] = ifelse(is.null(a[[i]]$block_id), '', a[[i]]$block_id))
}
for (i in 1:552)  {
b[i, 'link'] = a[[i]]$link
b[i, 'block_id'] = ifelse(is.null(a[[i]]$block_id), '', a[[i]]$block_id)
}
library(rvest)
x <- url %>%
read_html() %>%
html_nodes("a") %>%
html_attr("data-tracking-label")
x <- url %>%
read_html() %>%
html_nodes("a") %>%
html_attr("data-block-id")
x <- url %>%
read_html() %>%
html_nodes("a") %>%
html_attr("data-block-id")
x <- url %>%
read_html() %>%
html_nodes("div.container") %>%
html_nodes("a")
library(rvest)
x <- url %>%
read_html() %>%
html_nodes("div.container") %>%
html_nodes("a") %>%
html_attr("data-tracking-label")
url <- "https://www.globo.com"
x <- url %>%
read_html() %>%
html_nodes("div.container") %>%
html_nodes("a") %>%
html_attr("data-tracking-label")
x <- url %>%
read_html() %>%
html_nodes("a") %>%
html_attr("data-block-id")
is.na(x)
!is.na(x)
sum(!is.na(x))
sum(!is.na(b$block_id))
sum(is.na(b$block_id)
)
View(b)
sum(b$block_id=="")
x <- url %>%
read_html() %>%
html_nodes("div.headline__container") %>%
html_nodes("a") %>%
html_attr("data-block-id")
url %>%
read_html() %>%
html_nodes("div.headline__container") %>%
html_nodes("a") %>%
html_attr("data-block-id")
url %>%
read_html() %>%
html_nodes("div.headline__container") %>%
html_nodes("a")
url %>%
read_html() %>%
html_nodes("div.post") %>%
html_nodes("a")
x  <- url %>%
read_html() %>%
html_nodes("div.post") %>%
html_nodes("a")
x[[1]]
url %>%
read_html() %>%
html_nodes("div.post") %>%
html_nodes("a") %>%
html_attr("data-block-id")
url %>%
read_html() %>%
html_nodes("div.post") %>%
html_nodes("a") %>%
html_attrs()
url %>%
read_html() %>%
html_nodes("a.post__link") %>%
html_attr('data-block-id')
url %>%
read_html() %>%
html_nodes("a.post__link")
x<-url %>%
read_html() %>%
html_elements("a.post__link")
x[[1]]
x<-url %>%
read_html() %>%
html_elements("a.post__link") %>%
html_attrs()
x[[1]]
x<-url %>%
read_html() %>%
html_elements("a.post__link") %>%
html_attrs()
x[[34]]
url %>%
read_html() %>%
html_elements("div.false") %>%
html_nodes("a.post__link") %>%
html_attr("href")
url %>%
read_html() %>%
html_elements("div.container") %>%
html_nodes("a.post__link") %>%
html_attr("href")
url %>%
read_html() %>%
html_elements("div.container.false") %>%
html_nodes("a.post__link") %>%
html_attr("href")
